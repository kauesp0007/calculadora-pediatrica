<!-- pdf111.html -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>
  function gerarPDF() {
    // Clona o conteúdo da div principal
    const original = document.getElementById('pdfContent');
    if (!original) {
      alert('Elemento com id="pdfContent" não encontrado.');
      return;
    }

    const clone = original.cloneNode(true);

    // Remove botões e elementos indesejados
    clone.querySelectorAll('button, .no-print, .nao-imprimir').forEach(el => el.remove());

    // Cria container final com etiqueta + conteúdo
    const wrapper = document.createElement('div');
    wrapper.style.padding = '20px';
    wrapper.style.fontFamily = 'Inter, sans-serif';

    // Cria a etiqueta
    const etiqueta = document.createElement('div');
    etiqueta.style.width = '100mm';
    etiqueta.style.height = '30mm';
    etiqueta.style.border = '1px solid black';
    etiqueta.style.backgroundColor = 'white';
    etiqueta.style.display = 'flex';
    etiqueta.style.alignItems = 'center';
    etiqueta.style.justifyContent = 'center';
    etiqueta.style.marginBottom = '20px';
    etiqueta.innerText = 'Cole a etiqueta aqui';

    // Adiciona o ícone ao título (se existir um H1)
    const h1 = clone.querySelector('h1');
    if (h1) {
      const icon = document.createElement('img');
      icon.src = 'iconpages.png';
      icon.alt = 'Ícone';
      icon.style.width = '24px';
      icon.style.height = '24px';
      icon.style.marginRight = '10px';
      h1.style.display = 'flex';
      h1.style.alignItems = 'center';
      h1.insertBefore(icon, h1.firstChild);
    }

    // Monta a estrutura final
    wrapper.appendChild(etiqueta);
    wrapper.appendChild(clone);

    // Geração do PDF
    html2pdf()
      .set({
        margin: 10,
        filename: 'documento.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 3 },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      })
      .from(wrapper)
      .save();
  }
</script>
